
<div class="card">
    <h1 class="card-header text-center">Epic-CGU differences for @Model.patient.FIRSTNAME @Model.patient.LASTNAME (<a asp-controller="Patient" asp-action="PatientDetails" asp-route-id=@Model.patient.MPI>@Model.patient.CGU_No</a>)</h1>

    @if (Model.patient.FIRSTNAME != Model.epicPatient.FirstName || Model.patient.LASTNAME != Model.epicPatient.LastName)
    {
        <div class="row mb-2 g-2">
            <div class="col-md-1"></div>
            <div class="col-md-2">
                <h3>Change in Name</h3>
            </div>
            <div class="col-md-2">
                <b>CGU record:</b> @Model.patient.FIRSTNAME @Model.patient.LASTNAME
            </div>
            <div class="col-md-2">
                <b>Epic record:</b> @Model.epicPatient.FirstName @Model.epicPatient.LastName
            </div>
        </div>
    }

    

    @if (Model.patient.DOB != Model.epicPatient.DOB)
    {
        <div class="row mb-2 g-2">
            <div class="col-md-1"></div>
            <div class="col-md-2">
                <h3>Change in DOB</h3>
            </div>
            <div class="col-md-2">
                <b>CGU record:</b> @Model.patient.DOB.ToString("dd/MM/yyyy")
            </div>
            <div class="col-md-2">
                <b>Epic record:</b> @Model.epicPatient.DOB.ToString("dd/MM/yyyy")
            </div>
        </div>
    }

    @if (Model.patient.SOCIAL_SECURITY != Model.epicPatient.NHSNo)
    {
        <div class="row mb-2 g-2">
            <div class="col-md-1"></div>
            <div class="col-md-2">
                <h3>Change in NHS number</h3>
            </div>
            <div class="col-md-2">
                <b>CGU record:</b> @Model.patient.SOCIAL_SECURITY
            </div>
            <div class="col-md-2">
                <b>Epic record:</b> @Model.epicPatient.NHSNo
            </div>
        </div>
    }

    @if (Model.patient.POSTCODE == Model.epicPatient.PostCode)
    {
        <div class="row mb-2 g-2">
            <div class="col-md-1"></div>
            <div class="col-md-2">
                <h3>Change in Address</h3>
            </div>
            <div class="col-md-1">
                <b>CGU record:</b>
            </div>
            <div class="col-md-2">
                <div class="row">@Model.patient.ADDRESS1</div>
                <div class="row">@Model.patient.ADDRESS2</div>
                <div class="row">@Model.patient.ADDRESS3</div>
                <div class="row">@Model.patient.ADDRESS4</div>  
                @*we can't have ADDRESS5, for some reason, because even if we do an "if...null" it throws a wobbler!*@
                <div class="row">@Model.patient.POSTCODE</div>
            </div>
            <div class="col-md-1">
                <b>Epic record:</b>
            </div>
            <div class="col-md-2">
                <div class="row">@Model.epicPatient.Address1</div>
                <div class="row">@Model.epicPatient.Address2</div>
                <div class="row">@Model.epicPatient.Address3</div>
                <div class="row">@Model.epicPatient.Address4</div>                
                <div class="row">@Model.epicPatient.PostCode</div>
            </div>
        </div>
    }


</div>